<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../bower_components/core-selector/core-selector.html">
<link rel="import" href="../elements/cth-student-row.html">

<script src="../bower_components/lodash/dist/lodash.js"></script>

<polymer-element name="cth-student-list" attributes="selectedStudent students">

  <template>
    <link href='./cth-student-list.css' rel='stylesheet' type='text/css'>

    <ul>
      <core-selector selectedClass="selected" 
                     selectedModel={{selectedItem}}"
                     selected="3">

        <template repeat="{{ student in students }}">

          <li class="student-info"
              id="{{student.studno}}">

            <div class="basic-info">
              <div class="image"><img class="person" src="{{student.picture}}"/></div>
              <div class="full-name"><p>{{ student.name.first }} {{ student.name.last }}</p></div>
              <div class="student-id"><p>{{ student.studno }}</p></div>
            </div>

          </li>
        </template>

      </core-selector>
    </ul>
  </template>

  <script>
    Polymer('cth-student-list', {
      update: false,

      selectedItemChanged: function(){
        this.githubName = "";
        this.selectedStudent = this.selectedItem.student;
      },
    });
  </script>
</polymer-element>
